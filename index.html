<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="iPhone">
    <link rel="apple-touch-icon" href="pic3.WEBP">
    <title>iPhone Simulator</title>
    <style>
        :root {
            --ios-blur: blur(30px) saturate(180%);
            --ios-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body, html {
            margin: 0; padding: 0; height: 100%; width: 100%;
            font-family: var(--ios-font);
            overflow: hidden; background: #000;
            user-select: none;
        }

        /* Common Screen Styles */
        .screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: none; background-size: cover; background-position: center;
            flex-direction: column; z-index: 10;
        }
        .screen.active { display: flex; }

        /* Lock Screen */
        #lock-screen { background-image: url('mountains.jpg'); align-items: center; justify-content: space-between; padding-top: 60px; padding-bottom: 40px; }
        .lock-info { text-align: center; color: white; }
        #lock-time { font-size: 84px; font-weight: 200; letter-spacing: -2px; }
        #lock-date { font-size: 22px; font-weight: 400; margin-top: -10px; }
        .swipe-hint { color: white; font-size: 16px; opacity: 0.8; animation: pulse 2s infinite; }

        /* Keypad Screen */
        #keypad-screen { 
            background-image: url('mountains.jpg'); 
            color: white; align-items: center; justify-content: center;
        }
        #keypad-screen::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.3); backdrop-filter: var(--ios-blur); -webkit-backdrop-filter: var(--ios-blur);
            z-index: -1;
        }
        .passcode-header { font-size: 18px; margin-bottom: 20px; }
        .dots-container { display: flex; gap: 20px; margin-bottom: 40px; }
        .dot { width: 13px; height: 13px; border: 1.5px solid white; border-radius: 50%; transition: background 0.2s; }
        .dot.filled { background: white; }

        .keypad { display: grid; grid-template-columns: repeat(3, 75px); gap: 25px 20px; }
        .keypad button {
            width: 75px; height: 75px; border-radius: 50%; border: none;
            background: rgba(255,255,255,0.15); color: white; font-size: 32px;
            font-family: var(--ios-font); font-weight: 400;
            display: flex; align-items: center; justify-content: center;
        }
        .keypad button:active { background: rgba(255,255,255,0.4); }

        /* Home Screen */
        #home-screen { background-image: url('mountains.jpg'); padding: 50px 25px; }
        .app-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px; }
        .app-icon { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; }
        .app-icon img { width: 62px; height: 62px; border-radius: 14px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .app-icon span { color: white; font-size: 12px; font-weight: 400; text-shadow: 0 1px 2px rgba(0,0,0,0.8); }

        /* Notes App */
        #notes-app { background: #fff; z-index: 100; color: #000; }
        .notes-header { 
            padding: 50px 20px 10px; display: flex; justify-content: space-between; align-items: center;
            background: rgba(255,255,255,0.8); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        }
        .notes-header button { color: #f2a007; border: none; background: none; font-size: 18px; font-weight: 600; cursor: pointer; }
        .notes-title { font-weight: 700; font-size: 18px; }
        .notes-body { padding: 20px; flex: 1; display: flex; flex-direction: column; }
        #note-subtitle { color: #8a8a8e; font-size: 14px; margin-bottom: 10px; text-align: center; }
        #note-textarea { 
            width: 100%; flex: 1; border: none; outline: none; 
            font-size: 18px; line-height: 1.5; font-family: var(--ios-font);
            resize: none; color: #333;
        }

        /* Animations */
        @keyframes pulse { 0% { opacity: 0.3; } 50% { opacity: 1; } 100% { opacity: 0.3; } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-15px); } 40%, 80% { transform: translateX(15px); } }
        .shake { animation: shake 0.4s; }
    </style>
</head>
<body>

    <div id="lock-screen" class="screen active" onclick="showKeypad()">
        <div class="lock-info">
            <div id="lock-date">---</div>
            <div id="lock-time">00:00</div>
        </div>
        <div class="swipe-hint">Tap to Unlock</div>
    </div>

    <div id="keypad-screen" class="screen">
        <div class="passcode-header">Enter Passcode</div>
        <div id="dots" class="dots-container">
            <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
        </div>
        <div class="keypad">
            <button onclick="inputNum('1')">1</button>
            <button onclick="inputNum('2')">2</button>
            <button onclick="inputNum('3')">3</button>
            <button onclick="inputNum('4')">4</button>
            <button onclick="inputNum('5')">5</button>
            <button onclick="inputNum('6')">6</button>
            <button onclick="inputNum('7')">7</button>
            <button onclick="inputNum('8')">8</button>
            <button onclick="inputNum('9')">9</button>
            <div></div>
            <button onclick="inputNum('0')">0</button>
            <button style="background:none; font-size: 14px;" onclick="resetPass()">Cancel</button>
        </div>
    </div>

    <div id="home-screen" class="screen">
        <div class="app-grid">
            <div class="app-icon"><img src="pic1.WEBP"><span>Clock</span></div>
            <div class="app-icon"><img src="pic2.WEBP"><span>iTunes</span></div>
            <div class="app-icon" onclick="openNotes()"><img src="pic3.WEBP"><span>Notes</span></div>
            <div class="app-icon"><img src="pic4.WEBP"><span>Safari</span></div>
        </div>
    </div>

    <div id="notes-app" class="screen">
        <div class="notes-header">
            <button onclick="closeNotes()">Done</button>
            <div class="notes-title">Notes</div>
            <button style="opacity:0">Done</button>
        </div>
        <div class="notes-body">
            <div id="note-subtitle">January 10, 2026 at 10:15 AM</div>
            <textarea id="note-textarea" spellcheck="false" placeholder="Start writing..."></textarea>
        </div>
    </div>

    <script>
        let currentPin = "";
        const mapping = {
            "1280": "Monday", "2380": "Tuesday", "3480": "Wednesday",
            "4580": "Thursday", "5680": "Friday", "6780": "Saturday", "7880": "Sunday"
        };

        // Update Clock
        function updateClock() {
            const now = new Date();
            let h = now.getHours();
            let m = now.getMinutes();
            let ampm = h >= 12 ? 'PM' : 'AM';
            h = h % 12 || 12;
            m = m < 10 ? '0' + m : m;
            document.getElementById('lock-time').innerText = `${h}:${m}`;
            
            const options = { weekday: 'long', month: 'long', day: 'numeric' };
            document.getElementById('lock-date').innerText = now.toLocaleDateString('en-US', options);
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Navigation
        function showKeypad() {
            document.getElementById('lock-screen').classList.remove('active');
            document.getElementById('keypad-screen').classList.add('active');
        }

        function resetPass() {
            currentPin = "";
            updateDots();
            document.getElementById('keypad-screen').classList.remove('active');
            document.getElementById('lock-screen').classList.add('active');
        }

        // Passcode Logic
        function inputNum(n) {
            if (currentPin.length < 4) {
                currentPin += n;
                updateDots();
            }
            if (currentPin.length === 4) {
                if (mapping[currentPin]) {
                    handleUnlock(mapping[currentPin]);
                } else {
                    const dots = document.getElementById('dots');
                    dots.classList.add('shake');
                    setTimeout(() => {
                        dots.classList.remove('shake');
                        currentPin = "";
                        updateDots();
                    }, 400);
                }
            }
        }

        function updateDots() {
            const dots = document.querySelectorAll('.dot');
            dots.forEach((d, i) => {
                d.classList.toggle('filled', i < currentPin.length);
            });
        }

        function handleUnlock(day) {
            // Secret Replace Logic
            let note = localStorage.getItem('apple_note_text') || "";
            if (note.includes('xxx')) {
                note = note.replace(/xxx/g, day);
                localStorage.setItem('apple_note_text', note);
            }
            
            document.getElementById('keypad-screen').classList.remove('active');
            document.getElementById('home-screen').classList.add('active');
            currentPin = "";
            updateDots();
        }

        // Notes App Logic
        function openNotes() {
            document.getElementById('home-screen').classList.remove('active');
            document.getElementById('notes-app').classList.add('active');
            
            const area = document.getElementById('note-textarea');
            area.value = localStorage.getItem('apple_note_text') || "";
            
            // Subtitle logic: 2-4 minutes earlier
            const now = new Date();
            const minutesBack = Math.floor(Math.random() * 3) + 2; 
            now.setMinutes(now.getMinutes() - minutesBack);
            const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            const dateStr = now.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
            document.getElementById('note-subtitle').innerText = `${dateStr} at ${timeStr}`;
        }

        function closeNotes() {
            document.getElementById('notes-app').classList.remove('active');
            document.getElementById('home-screen').classList.add('active');
        }

        document.getElementById('note-textarea').addEventListener('input', (e) => {
            localStorage.setItem('apple_note_text', e.target.value);
        });

        // Prevent double-tap zoom
        document.addEventListener('touchstart', function (event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>
